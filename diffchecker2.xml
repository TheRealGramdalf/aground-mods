	<vehicle id="research" tile="research" health="2000" fuel="1000" useBatteries="false" efficiency="0" fuelName="power" defense="9" fps="12" speed="8" type="spaceship" blood="science.explosion.lg" title="itemName('world.research', this.name)" underground="true" underwater="true" flight_height="999" max_weight="10000" death_sfx="explosion" block_icon="fighter.shields.ico" block_behind="true" block_move="true" icon="research_lab.ico" flyMove="false" swimAnim="true" hitDamage="5" backAboveTiles="true" enter_sea_sfx="research_dive" exit_sea_sfx="research_surface" allowRename="true">
		<tile id="research" animation="hidden" x="0" y="0" fps="12" />
		<interior area="research.interior" offsetX="3" offsetY="0" enterX="8" enterY="5" exitX="0" operateX="9.5" operateY="1" />
		<repair id="titanium" value="250" /><operateHitbox x="124" y="48" width="66" height="64" />
		<dismount><action>if(this.renderer != null) this.renderer.scaleX = 1;</action></dismount>
		<light tile="light.research" />
        <init><set id="partial" value="0" /><set id="cores" value="0" /><set id="repair" value="0" /></init>
		<onFrame>
			var f = frames*0.25; var of = Math.floor(f); partial += f-of; if(partial >= 1){of++; partial -= 1;}
			var p = of*cores; if(this.blocking) p -= of*4; if(p > 0) this.addFuel(p); else if(p &lt; 0) this.useFuel(-p);
			var p = of*repair; if(p > 0) this.addHealth(p);
		</onFrame>
		<onDeath><run procedure="launch.lifepod" /></onDeath>
		<mount><set id="cores" value="getPowerCores(this.interior)" /><set id="repair" value="(this.interior.getNPC('mechanic')==null)?0:1" /></mount>
		<exitInterior><run object="research" event="mount" /></exitInterior>
		<enterInterior>
			<section if="this.interior != null && player.questComplete('research_lab') && (o = player.areas.get('earth.desert').getNPC('professor')) != null">
				<remove object="o" /><object id="professor" x="17" y="4" areaObject="this.interior" />
			</section>
		</enterInterior>
		<over><action if="this.renderer != null">var s = this.renderer.inner.getChildAt(0); s.setFrame(0); s.playAnimation("research.door.open", false);</action></over>
		<out><action if="this.renderer != null">var s = this.renderer.inner.getChildAt(0); s.setFrame(0); s.playAnimation("research.door.close", false);</action></out>
		<shield tile="research" animation="research.shields" hit_front="research.shields.front" hit_back="research.shields.back" hit_sfx="ship_shield" />
	</vehicle>